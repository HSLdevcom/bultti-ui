# This file was generated based on ".graphqlconfig". Do not edit manually.

schema {
  query: Query
  mutation: Mutation
}

type Contract {
  id: ID!
  operatingUnits: [OperatingUnit!]
  operator: [Operator!]
  routes: [Route!]
}

type DepartureBlock {
  blockFile: String!
  dayType: String
  departureTime: String!
  direction: String!
  id: String!
  preInspection: PreInspection
  preInspectionId: String!
  routeId: String!
  variant: String
  vehicleId: String!
}

type Equipment {
  age: Int!
  emissionClass: String!
  emissionDesc: String!
  exteriorColor: String!
  id: ID!
  operator: Operator
  operatorId: String
  registryNr: String!
  routes: [Route!]
  type: String!
  vehicleId: String!
}

type EquipmentCollection {
  age: Float
  count: Int
  emissionClass: String
  id: ID!
  make: String
  model: String
  operatingUnit: String
  operatorId: String
  seats: Int
  type: String
}

type ExecutionRequirement {
  area: OperatingArea!
  equipmentClass: Int!
  requirement: String!
  week: Int!
  year: Int!
}

type File {
  encoding: String!
  filename: String!
  mimetype: String!
}

type Mutation {
  createPreInspection: PreInspection
  uploadDepartureBlocks(file: Upload, inspectionId: String!): [DepartureBlock!]
  uploadEquipmentCatalogue(area: OperatingArea!, file: Upload, inspectionId: String!): [EquipmentCollection!]
}

type OperatingUnit {
  endDate: Date
  id: ID!
  operatingArea: OperatingArea
  operationEndDate: Date
  operationStartDate: Date
  operator: Operator
  operatorId: String!
  routes: [OperatingUnitRoute]
  startDate: Date
  weeklyExecutionMeters: Int
}

type OperatingUnitRoute {
  length: Int
  routeId: String!
}

type Operator {
  contracts: [Contract!]
  equipment: [Equipment!]
  id: String!
  name: String
  operatingUnits: [OperatingUnit!]
  routes: [Route!]
}

type PreInspection {
  createdAt: String!
  createdBy: String!
  departureBlocks: [DepartureBlock!]
  endDate: String
  executionRequirements: [ExecutionRequirement!]
  id: String!
  operator: Operator
  operatorId: String
  productionEnd: String
  productionStart: String
  season: Season
  seasonId: String
  startDate: String
  status: InspectionStatus!
}

type Query {
  contracts: [Contract!]
  equipment(all: Boolean): [Equipment!]
  operatingUnit(operatingUnitId: String!, operatorId: String!, startDate: Date!): OperatingUnit
  operatingUnits(operatorId: String!, startDate: Date!): [OperatingUnit!]
  operator(id: String): Operator
  operators: [Operator!]
  routes: [Route!]
  seasons(date: Date!): [Season!]
  uploads: [String]
}

type Route {
  area: OperatingArea!
  contract: Contract
  contractId: String
  currentOperators: [Operator!]
  direction: Int!
  id: ID!
  operatingUnit: OperatingUnit
  operatingUnitId: String
  routeId: String!
}

type Season {
  endDate: Date!
  id: String!
  season: String!
  startDate: Date!
}

enum DepartureType {
  I
  N
  O
}

enum InspectionStatus {
  DRAFT
  IN_PRODUCTION
}

enum OperatingArea {
  CENTER
  OTHER
}

input ExecutionRequirementInput {
  area: OperatingArea!
  equipmentClass: Int!
  requirement: String!
  week: Int!
  year: Int!
}

input PreInspectionInput {
  endDate: String!
  executionRequirements: [ExecutionRequirementInput!]!
  operatorId: String!
  productionEnd: String!
  productionStart: String!
  season: SeasonInput!
  startDate: String!
}

input SeasonInput {
  endDate: Date
  id: String!
  season: String
  startDate: Date
}


"A Date string in YYYY-MM-DD format. The timezone is assumed to be Europe/Helsinki."
scalar Date

scalar Upload

"A DateTime string in ISO 8601 format (YYYY-MM-DDTHH:mm:ssZ). Timezone will be converted to Europe/Helsinki."
scalar DateTime
