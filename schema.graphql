# This file was generated based on ".graphqlconfig". Do not edit manually.

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}

union ReportEntityUnion = Departure | DeparturePair | EmissionClassExecutionItem | ExecutionRequirement | MissingEquipment | ObservedDeparture | OperatorBlockDeparture

type Contract {
  createdAt: DateTime!
  description: String
  endDate: BulttiDate!
  id: ID!
  operator: Operator!
  operatorId: Int
  procurementUnits: [ProcurementUnit!]!
  rules: [ContractRule!]
  rulesFile: String
  startDate: BulttiDate!
  updatedAt: DateTime!
  userRelations: [ContractUserRelation!]!
}

type ContractRule {
  category: String!
  code: String
  condition: String
  description: String
  name: String!
  value: String!
}

type ContractUserRelation {
  contract: Contract!
  createdAt: DateTime!
  id: ID!
  relatedBy: ContractUserRelationType!
  subscribed: Boolean!
  updatedAt: DateTime!
  user: User!
}

type Departure {
  allowedOverAge: Float
  blockNumber: String
  dayType: DayType!
  departureId: String!
  departureType: DepartureType!
  direction: String
  endStop: String
  equipment: Equipment
  equipmentAge: Float
  equipmentExteriorColor: String
  equipmentId: String
  equipmentRegistryDate: BulttiDate
  equipmentRotation: Int
  equipmentTypeRequired: Boolean
  id: ID
  infoSystems: Boolean
  isNextDay: Boolean!
  isTracked: Boolean
  isTrunkRoute: Boolean
  journeyEndTime: String!
  journeyStartTime: String!
  observedEquipmentType: String
  plannedEquipmentType: String
  preInspection: Inspection
  preInspectionId: String
  procurementUnitId: String!
  recoveryTime: Int
  registryNr: String
  routeId: String
  routeLength: Int
  schemaId: String
  startStop: String
  terminalTime: Int
  trackReason: TrackReason!
}

type DeparturePair {
  deadrunEndStop: String
  deadrunMinutes: Int
  deadrunPlannedBy: String
  deadrunStartStop: String
  departureA: Departure!
  departureB: Departure!
  departurePairType: String
  groupId: String
  id: ID!
  overlapPlannedBy: String
  overlapSecondsA: Int
  overlapSecondsB: Int
}

type EmissionClassExecutionItem {
  class1: Float
  class10: Float
  class2: Float
  class3: Float
  class4: Float
  class5: Float
  class6: Float
  class7: Float
  class8: Float
  class9: Float
  id: ID!
  procurementUnitId: String
}

type Equipment {
  approvedOverage: Boolean!
  departures: [Departure!]!
  emissionClass: Int!
  equipmentCatalogueQuotas: [EquipmentCatalogueQuota!]!
  executionRequirementQuotas: [ExecutionRequirementQuota!]!
  exteriorColor: String!
  hasInfoSystems: Boolean!
  id: ID!
  model: String
  observedDeparturesObserved: [ObservedDeparture!]!
  observedDeparturesPlanned: [ObservedDeparture!]!
  operator: Operator!
  operatorId: Int!
  option: Boolean!
  registryDate: BulttiDate
  registryNr: String
  type: String!
  vehicleId: String!
}

type EquipmentCatalogue {
  endDate: String!
  equipmentCatalogueId: String!
  equipmentQuotas: [EquipmentCatalogueQuota!]!
  id: ID!
  operator: Operator!
  operatorId: Int!
  procurementUnit: ProcurementUnit!
  procurementUnitId: String!
  startDate: String!
}

type EquipmentCatalogueQuota {
  catalogueEndDate: BulttiDate!
  catalogueStartDate: BulttiDate!
  equipment: Equipment
  equipmentCatalogue: EquipmentCatalogue
  equipmentCatalogueId: String!
  equipmentId: String!
  id: ID!
  percentageQuota: Float!
}

type EquipmentSearchResult {
  _exists: Boolean!
  emissionClass: Int!
  exteriorColor: String!
  model: String!
  registryDate: BulttiDate
  registryNr: String
  type: String!
  vehicleId: String!
}

type ExecutionRequirement {
  area: OperatingArea!
  areaRequirement: ExecutionRequirement
  areaRequirementId: String
  averageAgeWeighted: Float
  averageAgeWeightedFulfilled: Float
  equipmentQuotas: [ExecutionRequirementQuota!]!
  id: ID!
  inspection: Inspection!
  inspectionId: String!
  operator: Operator!
  operatorId: Float!
  procurementUnit: ProcurementUnit
  procurementUnitId: String
  procurementUnitRequirements: [ExecutionRequirement!]
  requirements: [ExecutionRequirementValue!]!
  totalKilometers: Float
  totalKilometersFulfilled: Float
}

type ExecutionRequirementQuota {
  equipment: Equipment!
  equipmentId: String!
  executionRequirement: ExecutionRequirement!
  executionRequirementId: String!
  id: ID!
  meterRequirement: Float!
  percentageQuota: Float!
}

type ExecutionRequirementValue {
  classSanctionAmount: Float
  cumulativeDifferencePercentage: Float
  differencePercentage: Float
  emissionClass: Int!
  equipmentCount: Int
  equipmentCountFulfilled: Int
  fulfilledAverageAgeWeighted: Int
  kilometerRequirement: Float
  kilometersFulfilled: Float
  quotaFulfilled: Float
  quotaRequirement: Float
  sanctionAmount: Float
  sanctionThreshold: Float
}

type HfpDateStatus {
  date: BulttiDate!
  status: HfpStatus!
}

type Inspection {
  createdAt: DateTime!
  defectInspection: Inspection
  endDate: BulttiDate
  executionRequirements: [ExecutionRequirement!]!
  id: ID!
  inspectionEndDate: BulttiDate!
  inspectionErrors: [ValidationErrorData!]
  inspectionStartDate: BulttiDate!
  inspectionType: InspectionType!
  minStartDate: BulttiDate!
  name: String
  observedExecutionRequirements: [ObservedExecutionRequirement!]!
  operator: Operator!
  operatorId: Int
  postInspection: Inspection
  preInspection: Inspection
  season: Season!
  seasonId: String!
  startDate: BulttiDate
  status: InspectionStatus!
  updatedAt: DateTime!
  userRelations: [InspectionUserRelation!]!
  version: Int!
  versionStackIdentifier: String
}

type InspectionErrorUpdate {
  errorType: String!
  id: ID!
  message: String!
  status: InspectionStatus!
}

type InspectionTimelineItem {
  id: ID!
  inspectionEndDate: BulttiDate!
  inspectionStartDate: BulttiDate!
  operatorName: String!
  seasonId: String!
  version: Int!
}

type InspectionUserRelation {
  createdAt: DateTime!
  id: ID!
  inspection: Inspection!
  relatedBy: InspectionUserRelationType!
  subscribed: Boolean!
  updatedAt: DateTime!
  user: User!
}

type MissingEquipment {
  blockNumber: String
  registryNr: String
}

type Mutation {
  batchAddToEquipmentCatalogue(catalogueId: String!, vehicleIds: [String!]!): EquipmentCatalogue
  createBlockDeparturesFromFile(dayTypes: [DayType!]!, file: Upload, inspectionId: String!): [OperatorBlockDeparture!]
  createContract(contractInput: ContractInput!, file: Upload!): Contract!
  createEquipment(catalogueId: String, equipment: EquipmentInput!, executionRequirementId: String, operatorId: Int!): Equipment
  createEquipmentCatalogue(equipmentCatalogue: EquipmentCatalogueInput!, operatorId: Int!, procurementUnitId: String!): EquipmentCatalogue
  createExecutionRequirementsForProcurementUnit(inspectionId: String!, procurementUnitId: String!): ExecutionRequirement
  createInspection(inspection: InitialInspectionInput!): Inspection!
  createObservedExecutionRequirementsFromPreInspectionRequirements(postInspectionId: String!): [ObservedExecutionRequirement!]!
  generateEquipmentForPreInspection(inspectionId: String!): Boolean!
  loadHfpDataForInspectionPeriod(inspectionId: String!): [HfpDateStatus!]!
  login(authorizationCode: String!, isTest: Boolean = false, redirectUri: String = "http://localhost:3001"): String
  logout: Boolean!
  modifyContract(contractInput: ContractInput!, file: Upload): Contract!
  modifyUser(userInput: UserInput!): User!
  publishInspection(inspectionId: String!): Inspection!
  refreshExecutionRequirementForProcurementUnit(executionRequirementId: String!): ExecutionRequirement
  rejectInspection(inspectionId: String!): Inspection!
  removeAllEquipmentFromCatalogue(catalogueId: String!): EquipmentCatalogue!
  removeAllEquipmentFromExecutionRequirement(executionRequirementId: String!): ExecutionRequirement
  removeContract(contractId: String!): Boolean!
  removeDepartureBlocksForDayTypes(dayTypes: [DayType!]!, inspectionId: String!): Boolean!
  removeEquipmentFromCatalogue(catalogueId: String!, equipmentId: String!): Boolean!
  removeEquipmentFromExecutionRequirement(equipmentId: String!, executionRequirementId: String!): Boolean!
  removeExecutionRequirement(executionRequirementId: String!): Boolean!
  removeInspection(inspectionId: String!): Boolean!
  submitInspection(endDate: BulttiDate!, inspectionId: String!, startDate: BulttiDate!): Inspection!
  toggleContractUserSubscribed(contractId: String!, userId: String!): ContractUserRelation
  toggleInspectionUserSubscribed(inspectionId: String!, userId: String!): InspectionUserRelation
  updateBaseInspection(inspectionId: String!): Inspection!
  updateEquipment(equipment: EquipmentInput!, equipmentId: String!): Equipment
  updateEquipmentCatalogue(catalogueId: String!, equipmentCatalogue: EquipmentCatalogueInput!): EquipmentCatalogue!
  updateEquipmentCatalogueQuota(equipment: EquipmentInput!, equipmentId: String!, quotaId: String): Equipment
  updateEquipmentRequirementQuota(equipment: EquipmentInput!, equipmentId: String!, quotaId: String): Equipment
  updateInspection(inspection: InspectionInput!, inspectionId: String!): Inspection!
  updateObservedExecutionRequirementValues(requirementId: String!, updateValues: [ObservedRequirementValueInput!]!): ObservedExecutionRequirement!
  updateProcurementUnit(procurementUnit: ProcurementUnitEditInput!, procurementUnitId: String!): ProcurementUnit!
  updateWeeklyMetersFromSource(procurementUnitId: String!, startDate: String!): ProcurementUnit!
}

type ObservedDeparture {
  allowedOverAge: Float
  arrivalDateTime: DateTime
  arrivalIsNextDay: Boolean!
  arrivalTime: String
  blockNumber: String
  dayType: DayType!
  departureDateTime: DateTime
  departureId: String!
  departureIsNextDay: Boolean!
  departureTime: String
  departureType: DepartureType!
  direction: String
  equipmentRotation: Int
  equipmentTypeRequired: Boolean
  id: ID!
  isDestinationStop: Boolean!
  isOriginStop: Boolean!
  isTimingStop: Boolean!
  isTrunkRoute: Boolean
  journeyEndTime: String!
  journeyStartTime: String!
  observedArrivalDateTime: DateTime
  observedDepartureDateTime: DateTime
  observedEquipment: Equipment
  observedEquipmentId: String
  observedOperator: Operator
  observedRegistryNr: String
  odometer: Int!
  operator: Operator
  originStopId: String
  plannedEquipment: Equipment
  plannedEquipmentId: String
  plannedEquipmentType: String
  plannedRegistryNr: String
  postInspection: Inspection
  postInspectionId: String
  procurementUnitId: String!
  recoveryTime: Int
  routeId: String
  routeLength: Int
  schemaId: String
  stopId: String
  terminalTime: Int
  trackReason: TrackReason!
  uniqueVehicleId: String
}

type ObservedExecutionRequirement {
  area: OperatingArea!
  averageAgeWeightedObserved: Float
  averageAgeWeightedRequired: Float
  endDate: BulttiDate!
  id: ID!
  inspection: Inspection!
  inspectionId: String!
  observedRequirements: [ObservedExecutionValue!]!
  operator: Operator!
  operatorId: Float!
  startDate: BulttiDate!
  totalKilometersObserved: Float
  totalKilometersRequired: Float
}

type ObservedExecutionValue {
  averageAgeWeightedObserved: Float
  classSanctionAmount: Float
  cumulativeDifferencePercentage: Float
  differencePercentage: Float
  emissionClass: Int!
  equipmentCountObserved: Int
  equipmentCountRequired: Int
  id: ID!
  kilometersObserved: Float
  kilometersRequired: Float
  observedExecutionRequirement: ObservedExecutionRequirement!
  quotaObserved: Float
  quotaRequired: Float
  sanctionAmount: Float
  sanctionThreshold: Float
}

type OperatingArea {
  executionRequirements: [ExecutionRequirement!]
  id: Int!
  name: OperatingAreaName!
  procurementUnits: [ProcurementUnit!]
}

type Operator {
  contracts: [Contract!]!
  equipment: [Equipment!]!
  equipmentCatalogues: [EquipmentCatalogue!]!
  executionRequirements: [ExecutionRequirement!]!
  id: Int!
  inspections: [Inspection!]!
  operatorId: Int!
  operatorName: String!
  procurementUnits: [ProcurementUnit!]!
}

type OperatorBlockDeparture {
  blockNumber: String
  dayType: DayType!
  direction: String
  equipment: Equipment
  equipmentId: String
  id: ID!
  inspectionId: String
  journeyEndTime: String!
  journeyStartTime: String!
  journeyType: String!
  operatorId: String
  procurementUnitId: String!
  registryNr: String
  routeId: String
  routeLength: Int
  vehicleId: String
}

type ProcurementUnit {
  area: OperatingArea
  areaId: Int
  contracts: [Contract!]!
  currentContracts: [Contract!]
  endDate: BulttiDate!
  equipmentCatalogues: [EquipmentCatalogue!]!
  executionRequirements: [ExecutionRequirement!]!
  id: ID!
  medianAgeRequirement: Float!
  operator: Operator!
  operatorId: Int!
  procurementUnitId: String!
  routes: [ProcurementUnitRoute!]!
  startDate: BulttiDate!
  weeklyKilometers: Float!
  weeklyMeters: Float!
}

type ProcurementUnitOption {
  areaName: String
  currentContracts: [Contract!]
  endDate: BulttiDate!
  id: String!
  medianAgeRequirement: Float
  name: String!
  routes: [String!]!
  startDate: BulttiDate!
}

type ProcurementUnitRoute {
  length: Float!
  routeId: String!
}

type Query {
  allInspections(inspectionType: InspectionType!): [Inspection!]!
  availableDayTypes(inspectionId: String!): [String!]!
  blockDeparturesForPreInspection(inspectionId: String!): [OperatorBlockDeparture!]!
  contract(contractId: String!): Contract
  contractProcurementUnitOptions(endDate: BulttiDate!, operatorId: Int!, startDate: BulttiDate!): [ProcurementUnitOption!]!
  contractUserRelations(contractId: String!): [ContractUserRelation!]!
  contracts(date: BulttiDate, operatorId: Int): [Contract!]!
  contractsByProcurementUnit(procurementUnitId: String!): [Contract!]!
  currentInspectionByOperatorAndSeason(inspectionType: InspectionType!, operatorId: Int!, seasonId: String!): Inspection
  currentInspectionsByOperatorAndSeason(inspectionType: InspectionType!, operatorId: Int!, seasonId: String!): [Inspection!]!
  currentUser: User
  currentlyLoadingHfpRanges: [HfpDateStatus!]!
  equipment: [Equipment!]!
  equipmentByOperator(operatorId: Int!): [Equipment!]!
  equipmentCatalogue: [EquipmentCatalogue!]!
  equipmentCatalogueByOperator(operatorId: Int!): [EquipmentCatalogue!]!
  executionRequirementForProcurementUnit(inspectionId: String!, procurementUnitId: String!): ExecutionRequirement
  executionRequirementsByOperator(operatorId: Int!): [ExecutionRequirement!]!
  executionRequirementsForPreInspectionAreas(inspectionId: String!): [ExecutionRequirement!]!
  inspection(inspectionId: String!): Inspection
  inspectionReportByName(inspectionId: String!, reportName: String!): Report
  inspectionUserRelations(inspectionId: String!): [InspectionUserRelation!]!
  inspectionsByOperator(inspectionType: InspectionType!, operatorId: Int!): [Inspection!]!
  inspectionsTimeline(inspectionType: InspectionType!, operatorId: Int!): [InspectionTimelineItem!]!
  loadedHfpRanges: [HfpDateStatus!]!
  observedExecutionRequirements(postInspectionId: String!): [ObservedExecutionRequirement!]!
  operator(operatorId: Int!): Operator
  operators: [Operator!]!
  previewObservedRequirement(requirementId: String!): ObservedExecutionRequirement!
  procurementUnit(procurementUnitId: String!): ProcurementUnit
  procurementUnitsByOperator(endDate: BulttiDate!, operatorId: Int!, startDate: BulttiDate!): [ProcurementUnit!]!
  queryEquipmentFromSource(operatorId: Int!, registryNr: String, vehicleId: String): EquipmentSearchResult
  reports(inspectionType: InspectionType): [Report!]!
  season(seasonId: String!): [Season!]
  seasons(date: BulttiDate!): [Season!]!
  singleEquipment(equipmentId: String!): Equipment
  singleEquipmentCatalogue(equipmentCatalogueId: String!): EquipmentCatalogue
  user(userId: Int!): User
  users: [User!]!
}

type Report {
  columnLabels: String
  description: String!
  inspection: Inspection
  inspectionTypes: [InspectionType!]
  name: String!
  operator: Operator
  reportEntities: [ReportEntityUnion!]!
  reportType: ReportType
  season: Season
  title: String!
}

type Season {
  endDate: BulttiDate!
  id: ID!
  inspections: [Inspection!]!
  season: String!
  startDate: BulttiDate!
}

type Subscription {
  hfpPreloadStatus(rangeEnd: String!, rangeStart: String!): [HfpDateStatus!]
  inspectionError(inspectionId: String!): InspectionErrorUpdate
  inspectionStatus(inspectionId: String!): Inspection
}

type User {
  contractRelations: [ContractUserRelation!]!
  email: String!
  hslIdGroups: [String!]
  id: ID!
  inspectionRelations: [InspectionUserRelation!]!
  name: String!
  operatorIds: [Int!]
  organisation: String
  role: UserRole!
}

type ValidationErrorData {
  keys: [String!]
  objectId: String
  referenceKeys: [String!]
  type: InspectionValidationError!
}

enum ContractUserRelationType {
  CREATED_BY
  SUBSCRIBED_TO
  UPDATED_BY
}

enum DayType {
  Ke
  La
  Ma
  Pe
  Su
  Ti
  To
}

enum DepartureType {
  BLOCK
  SCHEMA
}

enum HfpStatus {
  LOADING
  NOT_LOADED
  READY
}

enum InspectionStatus {
  Draft
  InProduction
  InReview
  Processing
}

enum InspectionType {
  EQUIPMENT_DEFECT
  POST
  PRE
}

enum InspectionUserRelationType {
  CREATED_BY
  PUBLISHED_BY
  REJECTED_BY
  SUBMITTED_BY
  SUBSCRIBED_TO
  UPDATED_BY
}

enum InspectionValidationError {
  CONTRACT_OUTSIDE_INSPECTION_TIME
  HFP_UNAVAILABLE_FOR_INSPECTION_DATES
  INVALID_INSPECTION_TIME
  INVALID_PRODUCTION_TIME
  MISSING_BLOCK_DEPARTURES
  MISSING_CONTRACTS
  MISSING_EQUIPMENT_CATALOGUES
  MISSING_EXECUTION_REQUIREMENTS
  MISSING_REQUIREMENT_QUOTAS
  NOT_POST
  NOT_PRE
}

enum OperatingAreaName {
  CENTER
  OTHER
  UNKNOWN
}

enum ReportType {
  EXECUTION_REQUIREMENT
  LIST
  PAIR_LIST
  SUMMARY
}

enum TrackReason {
  DEADRUN_DETECTED
  DEFAULT_TRACKED
  EQUIPMENT_AGE_VIOLATION
  EQUIPMENT_TYPE_VIOLATION
  EXTERIOR_COLOR_VIOLATION
  EXTRA_DEPARTURE
  FIRST_DEPARTURE_AFTER_DEADRUN
  FIRST_DEPARTURE_IN_BLOCK
  INFO_SYSTEMS_VIOLATION
  MISSING_DEPARTURE
  NOT_TRACKED
  RECOVERY_VIOLATION
}

enum UserRole {
  ADMIN
  BLOCKED
  HSL
  OPERATOR
}

input ContractInput {
  description: String
  endDate: BulttiDate
  id: ID
  operatorId: Int
  procurementUnitIds: [String!]
  rulesFile: String
  startDate: BulttiDate
}

input EquipmentCatalogueInput {
  endDate: BulttiDate!
  startDate: BulttiDate!
}

input EquipmentInput {
  emissionClass: Int
  exteriorColor: String
  meterRequirement: Float
  model: String
  percentageQuota: Float
  registryDate: BulttiDate
  registryNr: String
  type: String
  vehicleId: String
}

input InitialInspectionInput {
  endDate: BulttiDate
  inspectionEndDate: BulttiDate
  inspectionStartDate: BulttiDate
  inspectionType: InspectionType!
  name: String
  operatorId: Int!
  seasonId: String!
  startDate: BulttiDate
}

input InspectionInput {
  endDate: BulttiDate
  inspectionEndDate: BulttiDate
  inspectionStartDate: BulttiDate
  name: String
  startDate: BulttiDate
}

input ObservedRequirementValueInput {
  emissionClass: Int!
  id: ID!
  kilometersRequired: Float
  quotaRequired: Float
  sanctionAmount: Float
}

input ProcurementUnitEditInput {
  medianAgeRequirement: Float!
  weeklyMeters: Float!
}

input UserInput {
  email: String
  hslIdGroups: String
  id: ID!
  name: String
  operatorIds: String
  organisation: String
  role: UserRole
}


"A Date string in YYYY-MM-DD format. The timezone is assumed to be Europe/Helsinki."
scalar BulttiDate

"The javascript `Date` as string. Type represents date and time as the ISO Date string."
scalar DateTime

"The `Upload` scalar type represents a file upload."
scalar Upload
